Add orientation dropdown to developer options on all devices:
  - Enabled: no
  - Description: |
      Developer Options (search devmodeon, then go to Device Information) has a section with a dropdown
      allowing changing the rotation to all options, including the inverted ones. This patch shows it on
      devices without a sensor. DOES NOT STICK.
  # In N3SettingsDeveloperOptionsView::N3SettingsDeveloperOptionsView(QWidget*):
  # replace the call to Device::hasOrientationSensor() to MOV r0, #0x1
  - ReplaceBytes: {Offset: 0xA6F504, FindH: AA F5 9C E6, ReplaceH: 4F F0 01 00}
  # TODO: update offset

Old kepub fullscreen mode:
  - Enabled: no
  - Description: |
      Emulates the old kepub fullscreen mode. TODO - replace the show title toggle, adjustable margins.
  # In KepubBookReader::setFullScreen():
  # replace the BNE to the part which hides header/footer (or else shows) with a B.
  # The KepubBookReader::hideHeaderAndFooter() call is the same which is used when displaying
  # covers. This allows the content to go right to the top/bottom of the screen (and QuickTurn
  # still works)!
  - ReplaceBytes: {Offset: 0x9E45B4, FindH: 56 D1, ReplaceH: 56 E0}
  # Note for updating: D1 to E0 are all that needs changing, as the opcode for b (1101) and cond
  # are the first 8 bytes (swapped to last for thumb).

Replace sleepcover setting with screenshots:
  - Enabled: no
  - Description: |
      Replaces the sleepcover setting with a toggle to enable/disable screenshots. Note that due to limitations in
      the way I am patching this, the sleepcover will be enabled/disabled along with this too (or use the patch below
      to override it). I'll try to figure out a better way to do this later (maybe try putting some code in an empty
      part of the binary?).
  # In PowerKeyFilter::filter(QObject*, KeyEvent*):
  # replace the BL call to the subroutine which loads the Screenshots setting with a BLX to
  # PowerSettings::getSleepAccessoryEnabled():
  # Note: When updating, make sure the subroutine still does the same thing.
# - ReplaceBytes: {Offset: 0x96C764, FindH: DF F4 C4 FE, ReplaceBLX: 0x4101F4}
  - ReplaceBytes: {Offset: 0x96C764, FindH: DF F4 C4 FE, ReplaceH: A3 F6 46 E5} # TODO: why does this always seem to be true?
  # then change the title in the power settings page:
  - FindReplaceString: {Find: "SLEEPCOVER", Replace: "SCREENSHOT"}
  # and the label:
  - FindReplaceString: {Find: "Automatically sleep and wake up:", Replace: "Take screenshots:"}
  # and the description:
  - FindReplaceString: {Find: "The Kobo SleepCover (sold separately) automatically puts your eReader to sleep when you close it and wakes it up when you open it.", Replace: "The power button is able to take screenshots when you press it instead of sleeping."}

Set sleepcover enabled:
  - Enabled: no
  - Description: |
      Overrides the sleepcover setting. This is only meant to be used with `Replace sleepcover setting with screenshots`.
  # In the subroutine where the hall (magnet) sensor is instantiated:
  # change PowerSettings::getSleepAccessoryEnabled() (to override [PowerSettings] -> SleepAccessoryEnabled)
  - ReplaceBytes: {Offset: 0x963B8A, FindBLX: 0x4101F4, ReplaceH: 4F F0 01 00}
  - ReplaceBytes: {Offset: 0x963B8C, FindH: 01, ReplaceH: 01} # 00 to disable, 01 to enable

Set visible SmartLink:
  - Enabled: yes
  - PatchGroup: SmartLink
  - Description: |
      Sets the currently visible smartlink (does not override priority messages).
  # SmartLinks: (name from SmartLinkWidget::getAnalyticsMessage)
  #  # - internal name   - default condition                                   - what                                                             - action
  # PRIORITY MESSAGES (shown first up to 3 times each): (SmartLinkWidget::showPriorityMessage, ActivityManager::smartLinkPriorityMessage, SmartLinkWidget::tapped)
  #  5 - ReleaseNotes    - whats new available from Activity                   - RELEASE NOTES: Find out what's new in this software update       - whats new (from Activity)
  #  6 - OverdriveFTE    - overdrive enabled && not signed in                  - OVERDRIVE: Learn how to borrow eBooks from your public library   - overdrive about
  #  7 - KoboPlusFTE     - kobo plus enabled && not subscribed                 - KOBO PLUS: Browse Kobo Plus books                                - kobo store -> kobo plus
  # ROTATION MESSAGES (randomly chosen): (SmartLinkWidget::showRotationMessage, ActivityManager::smartLinkGeneralMessage, SmartLinkWidget::tapped)
  #  1 - Pocket          - pocket not signed in                                - POCKET: Read articles from the web on your eReader               - pocket about
  #  2 - KoboPlus        - kobo plus enabled && not subscribed                 - KOBO PLUS: Get unlimited access to books in all genres           - kobo store -> kobo plus
  #  2 - KoboPlus        - kobo plus enabled && not subscribed                 - KOBO PLUS: Read as much as you want with our ebook subscription  - kobo store -> kobo plus
  #  3 - Overdrive       - overdrive enabled && not signed in                  - OVERDRIVE: Borrow eBooks from your public library                - overdrive about
  #  4 - Categories      - always                                              - CATEGORIES: Browse fiction, romance, biography and more          - kobo store -> categories
  #  8 - NaturalLight    - has light sensor && not viewed tutorial             - DEVICE NAME: Learn about the Natural Light feature               - rgb front light about
  #  9 - QuickTour       - quick tour not shown && quick turn tile not visible - GETTING STARTED: Get to know your %0                             - quick tour
  # 10 - ReadingTour     - read a book tour not showed                         - READING A BOOK: Get quick tips about reading on your eReader     - read a book tutorial
  # 11 - UserGuide       - user guide present && not opened                    - USER GUIDE: Read the user guide for your %0                      - read -> user guide
  # 12 - RelatedReads    - recent book available from Activity                 - RELATED READS: Discover books related to the ones you're reading - browse -> similar books
  # 13 - Wishlist        - no wishlist items || something else                 - WISHLIST: Create a Wishlist of books you're interested in        - browse -> wishlist
  # 14 - ReadingSettings - reading settings not changed                        - READING SETTINGS: Customize the way you read a book              - settings -> reading settings
  # 15 - ReadingStats    - books finished > 0 && hours read rounded to .5 > 0  - READING STATS: You've finished %n books and read for %n hours    - reading life -> stats
  # 16 - SuperPoints     - participating in super points && points > 2400      - KOBO SUPER POINTS: You have %0 Super Points to redeem            - kobo store
  # 17 - PocketUser      - unread pocket articles > 0                          - POCKET: Catch up on the %n article(s) you added recently         - library -> pocket
  #
  # in SmartLinkWidget::showRotationMessage, which is the only caller of ActivityManager::smartLinkGeneralMessage:
  # change the result of the call to ActivityManager::smartLinkGeneralMessage:
  - ReplaceBytes: {Offset: 0x8DBA68, FindBLX: 0x42744C, ReplaceH: 4F F0 04 00}
  # set the new SmartLink to show (you can set this to your preference based on the
  # previous list, but it MUST be one of the above options, or you may need to
  # factory reset):
  - ReplaceInt: {Offset: 0x8DBA6A, Find: 4, Replace: 15}
