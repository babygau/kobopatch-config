Enable OverDrive:
  - Enabled: no
  - ReplaceBytesAtSymbol: {Symbol: "OverDriveCardManager::isOverDriveEnabled()", Offset: 123, FindH: 4F F0 00 08, ReplaceH: 4F F0 01 08}

X-Kobo-Accept-Preview:
  - Enabled: no
  # Should make a log message like "Beta flag set."
  - ReplaceBytes: {Offset: 0x680DBE, FindBLX: 0x41C23C, ReplaceH: 4F F0 01 00}

Allow showing info panel when using random screensaver:
  - Enabled: no
  - Description: |
      See https://www.mobileread.com/forums/showthread.php?t=321609. This patch
      allows showing the info panel even when using a random screensaver image
      from .kobo/screensaver.
  - ReplaceBytesNOP: {Offset: 0xA17E9C, FindBLX: 0x44D564}

Replace help item in menu:
  - Enabled: no
  # NOTE: not updated since 4.14.12777
  # the only difference between most opening things is the number in r2 before the
  # qt call:
  #   10 help
  #    9 settings
  #    8 activity
  #    7 wishlist
  #    6 ?
  #    5 recommended
  #    4 kobo store
  #    3 articles
  #    2 collections
  #    1 books
  #    0 home
  # note: each view (settings, menu, etc) has its own set of options.
  - ReplaceInt: {Offset: 0xC4B59E, Find: 10, Replace: 2}

Replace sleepcover setting with screenshots:
  - Enabled: no
  - Description: |
      Replaces the sleepcover setting with a toggle to enable/disable screenshots. Note that due to limitations in
      the way I am patching this, the sleepcover will be enabled/disabled along with this too (or use the patch below
      to override it). I'll try to figure out a better way to do this later (maybe try putting some code in an empty
      part of the binary?).
  # NOTE: not updated since 4.12.12111
  # In PowerKeyFilter::filter(QObject*, KeyEvent*):
  # replace the BL call to the subroutine which loads the Screenshots setting with a BLX to
  # PowerSettings::getSleepAccessoryEnabled():
  # Note: When updating, make sure the subroutine still does the same thing.
# - ReplaceBytes: {Offset: 0x96C764, FindH: DF F4 C4 FE, ReplaceBLX: 0x4101F4}
  - ReplaceBytes: {Offset: 0x96C764, FindH: DF F4 C4 FE, ReplaceH: A3 F6 46 E5} # TODO: why does this always seem to be true?
  # then change the title in the power settings page:
  - FindReplaceString: {Find: "SLEEPCOVER", Replace: "SCREENSHOT"}
  # and the label:
  - FindReplaceString: {Find: "Automatically sleep and wake up:", Replace: "Take screenshots:"}
  # and the description:
  - FindReplaceString: {Find: "The Kobo SleepCover (sold separately) automatically puts your eReader to sleep when you close it and wakes it up when you open it.", Replace: "The power button is able to take screenshots when you press it instead of sleeping."}

Show time in footer:
  - Enabled: no
  - Description: |
      Shows the reading time in the footer instead of Page %1 <i>of</i> %1.
  # NOTE: not updated since 4.12.12111
  # In ReadingView::onFooterEvent:
  # sacrifice the non book-based progress in the page number view
  # for getting the time instead
  # NOP the code:
  - ReplaceBytes: {Offset: 0x9DF2C6, FindBLX: 0x423878, ReplaceH: 00 46 00 46}  # int r0 = ReadingView::currentPage(r0)
  - ReplaceBytes: {Offset: 0x9DF2CA, FindH: 82 46, ReplaceH: 00 46}             # int r10 = r0
  - ReplaceBytes: {Offset: 0x9DF2CC, FindH: 20 46, ReplaceH: 00 46}             # ReadingView r0 = r4 (this)
  - ReplaceBytes: {Offset: 0x9DF2CE, FindBLX: 0x419FD0, ReplaceH: 00 46 00 46}  # int r0 = ReadingView::totalPages(r0)
  - ReplaceBytes: {Offset: 0x9DF2D2, FindH: 83 46, ReplaceH: 00 46}             # int r11 = r0
  - ReplaceBytes: {Offset: 0x9DF2D4, FindH: D4 F8 88 00, ReplaceH: 00 46 00 46} # BookProgressType r0 = *(r1 + 0x88)
  - ReplaceBytes: {Offset: 0x9DF2D8, FindBLX: 0x41BB38, ReplaceH: 00 46 00 46}  # bool r0 = progressTypeIsBookBased(r0)
  - ReplaceBytes: {Offset: 0x9DF2DC, FindH: 58 B3, ReplaceH: 00 46}             # if (!r0) goto ###
    # afterwards is the code which loads the arguments for ReadingFooter::update and calls it (r10 is arg3, r11 is arg4, if not, below needs to be updated)
  # New code:
# - ReplaceBytes: {Offset: 0x9DF2C6, FindH: 00 46 00 46, ReplaceBLX: 0x3FFE28}
  - ReplaceBytes: {Offset: 0x9DF2C6, FindH: 00 46 00 46, ReplaceH: 20 F6 B0 E5} # QTime r0 = QTime::currentTime()
  - ReplaceBytes: {Offset: 0x9DF2CA, FindH: 00 46, ReplaceH: 83 46}             # QTime r11 = r0
  
  # TESTING: fix to 1 and 24
  - ReplaceBytes: {Offset: 0x9DF2CC, FindH: 00 46 00 46, ReplaceH: 4FF0010A}
  - ReplaceBytes: {Offset: 0x9DF2D0, FindH: 00 46 00 46, ReplaceH: 4FF0180B}

  # TODO: why does this segfault?
## - ReplaceBytes: {Offset: 0x9DF2CC, FindH: 00 46 00 46, ReplaceBLX: 0x428358}
#  - ReplaceBytes: {Offset: 0x9DF2CC, FindH: 00 46 00 46, ReplaceH: 49 F6 44 E0} # int r0 = QTime::hour(r0)
#  - ReplaceBytes: {Offset: 0x9DF2D0, FindH: 00 46, ReplaceH: 82 46}             # int r10 = r0
#  - ReplaceBytes: {Offset: 0x9DF2D2, FindH: 00 46, ReplaceH: 58 46}             # QTime r0 = r11
## - ReplaceBytes: {Offset: 0x9DF2D4, FindH: 00 46 00 46, ReplaceBLX: 0x41E298}
#  - ReplaceBytes: {Offset: 0x9DF2D4, FindH: 00 46 00 46, ReplaceH: 3E F6 E0 E7} # int r0 = QTime::minute(r0)
#  - ReplaceBytes: {Offset: 0x9DF2D8, FindH: 00 46, ReplaceH: 83 46}             # int r11 = r0

  # and now make it show %1:%2 instead of Page %1 <i>of</i> %1 (loaded to the var from ReadingFooter::ReadingFooter):
# TODO

####################

Hide parental controls icon from status bar:
  - Enabled: no
  # NOT TOTALLY WORKING YET, last updated for 4.15.12920
  # in StatusBarController::loadView():
  # always pass false to StatusBarView::setParentalControlVisibility()
  - ReplaceBytes: {Offset: 0xB0735C, FindH: 01 46, ReplaceH: 00 21}